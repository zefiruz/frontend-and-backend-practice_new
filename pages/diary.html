<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>–î–Ω–µ–≤–Ω–∏–∫ - –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å—Ç—É–¥–µ–Ω—Ç–∞</title>
    <link rel="stylesheet" href="../styles/styles.css">
</head>
<body class="page"> 
    <div class="container">
        <header class="header">
            <div class="logo">
                <a href="../index.html" class="logo-link">
                    <div class="logo-icon">
                        <!-- Retina-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ –ª–æ–≥–æ -->
                        <img src="../images/icons/logo@1x.ico" 
                             srcset="../images/icons/logo@1x.ico 1x, ../images/icons/logo@2x.ico 2x"
                             alt="–õ–æ–≥–æ—Ç–∏–ø" width="32" height="32" loading="lazy">
                    </div>
                    <h1>–ú–∞–ª—è–º–æ–≤ –°–µ–º—ë–Ω</h1>
                </a>
            </div>
            <nav class="nav" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
                <ul class="nav-list">
                    <li><a href="../index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="projects.html" class="nav-link">–ü—Ä–æ–µ–∫—Ç—ã</a></li>
                    <li><a href="diary.html" class="nav-link active">–î–Ω–µ–≤–Ω–∏–∫</a></li>
                    <li><a href="contacts.html" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    <li>
                        <button onclick="toggleTheme()" class="theme-btn nav-link" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                            üåô –¢–µ–º–∞
                        </button>
                    </li>
                </ul>
            </nav>
        </header>

        <main id="main" class="main">
            <section class="diary-section section">
                <h2 class="section-title">–ú–æ–π —É—á–µ–±–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
                
                <div class="diary-content">
                    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–Ω–µ–≤–Ω–∏–∫–∞ -->
                    <article class="progress-log" aria-labelledby="progress-log-title">
                        <h3 id="progress-log-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏</h3>
                        
                        <ul class="progress-list" id="progress-list" aria-label="–°–ø–∏—Å–æ–∫ —É—á–µ–±–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π">
                        </ul>
                        
                        <form class="add-entry-form" id="add-entry-form" aria-labelledby="add-entry-title">
                            <h4 id="add-entry-title" class="visually-hidden">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å</h4>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="new-entry-text" class="form-label">–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å:</label>
                                    <input 
                                        type="text" 
                                        id="new-entry-text" 
                                        class="form-input entry-input"
                                        placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–∑—É—á–µ–Ω–∏–µ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π –≤–µ—Ä—Å—Ç–∫–∏"
                                        aria-required="true"
                                        required
                                    >
                                </div>
                                
                                <div class="form-group">
                                    <label for="entry-status" class="form-label">–°—Ç–∞—Ç—É—Å:</label>
                                    <select id="entry-status" class="form-select status-select" aria-label="–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –∑–∞–ø–∏—Å–∏">
                                        <option value="planned">üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</option>
                                        <option value="in-progress">üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
                                        <option value="completed">‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ</option>
                                    </select>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">
                                ‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
                            </button>
                        </form>
                    </article>
                    
                    <aside class="current-courses" aria-labelledby="courses-title">
                        <h3 id="courses-title">–¢–µ–∫—É—â–∏–µ –∫—É—Ä—Å—ã</h3>
                        
                        <div class="courses-list" id="courses-list" aria-label="–°–ø–∏—Å–æ–∫ —Ç–µ–∫—É—â–∏—Ö –∫—É—Ä—Å–æ–≤">
                        </div>
                        
                        <form class="course-management" id="course-management-form" aria-labelledby="add-course-title">
                            <h4 id="add-course-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞–º–∏</h4>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="new-course-name" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞:</label>
                                    <input 
                                        type="text" 
                                        id="new-course-name" 
                                        class="form-input course-input"
                                        placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞"
                                        aria-required="true"
                                        required
                                    >
                                </div>
                                
                                <div class="form-group">
                                    <label for="new-course-progress" class="form-label">–ü—Ä–æ–≥—Ä–µ—Å—Å (%):</label>
                                    <input 
                                        type="number" 
                                        id="new-course-progress" 
                                        class="form-input course-input"
                                        placeholder="0-100"
                                        min="0" 
                                        max="100"
                                        aria-required="true"
                                        required
                                    >
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-secondary">
                                üìö –î–æ–±–∞–≤–∏—Ç—å –∫—É—Ä—Å
                            </button>
                        </form>
                    </aside>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è -->
                <section class="learning-stats" aria-labelledby="stats-title">
                    <h3 id="stats-title" class="visually-hidden">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">üìù</div>
                            <div class="stat-number" id="total-entries">0</div>
                            <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">‚úÖ</div>
                            <div class="stat-number" id="completed-entries">0</div>
                            <div class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìö</div>
                            <div class="stat-number" id="total-courses">0</div>
                            <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∫—É—Ä—Å–æ–≤</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìà</div>
                            <div class="stat-number" id="avg-progress">0%</div>
                            <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</div>
                        </div>
                    </div>
                </section>
            </section>
        </main>

        <footer class="footer">
            <p>&copy; 2025 –ú–∞–ª—è–º–æ–≤ –°–µ–º—ë–Ω. <a href="contacts.html" class="footer-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></p>
        </footer>
    </div>

    <script>
        const DiaryManager = {
            init() {
                this.loadTheme();
                this.loadData();
                this.setupEventListeners();
                this.updateStatistics();
            },

            loadTheme() {
                const savedTheme = localStorage.getItem('theme');
                const themeBtn = document.querySelector('.theme-btn');
                
                if (savedTheme === 'dark') {
                    document.body.classList.add('dark-theme');
                    themeBtn.innerHTML = '‚òÄÔ∏è –¢–µ–º–∞';
                    themeBtn.title = '–í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É';
                }
            },

            setupEventListeners() {
                document.getElementById('add-entry-form').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.addNewEntry();
                });

                document.getElementById('course-management-form').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.addNewCourse();
                });

                document.getElementById('new-entry-text').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.addNewEntry();
                    }
                });
            },

            addNewEntry() {
                const textInput = document.getElementById('new-entry-text');
                const statusSelect = document.getElementById('entry-status');
                const progressList = document.getElementById('progress-list');
                
                const text = textInput.value.trim();
                if (!text) {
                    this.showNotification('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∑–∞–ø–∏—Å–∏!', 'error');
                    textInput.focus();
                    return;
                }
                
                const entryId = 'entry-' + Date.now();
                const newEntry = document.createElement('li');
                newEntry.className = `entry-item ${statusSelect.value}`;
                newEntry.id = entryId;
                newEntry.innerHTML = `
                    <span class="entry-text">${text}</span>
                    <div class="entry-actions">
                        <button class="status-btn" onclick="DiaryManager.toggleEntryStatus('${entryId}')" aria-label="–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å">
                            ${this.getStatusIcon(statusSelect.value)}
                        </button>
                        <button class="delete-btn" onclick="DiaryManager.deleteEntry('${entryId}')" aria-label="–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å">‚úï</button>
                    </div>
                `;
                
                progressList.insertBefore(newEntry, progressList.firstChild);
                textInput.value = '';
                textInput.focus();
                
                this.showNotification('–ó–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!', 'success');
                this.saveData();
                this.updateStatistics();
            },

            toggleEntryStatus(entryId) {
                const entry = document.getElementById(entryId);
                const currentStatus = Array.from(entry.classList).find(cls => 
                    ['planned', 'in-progress', 'completed'].includes(cls)
                );
                
                const statusOrder = ['planned', 'in-progress', 'completed'];
                const currentIndex = statusOrder.indexOf(currentStatus);
                const nextStatus = statusOrder[(currentIndex + 1) % statusOrder.length];
                
                entry.className = `entry-item ${nextStatus}`;
                entry.querySelector('.status-btn').innerHTML = this.getStatusIcon(nextStatus);
                
                this.saveData();
                this.updateStatistics();
            },

            deleteEntry(entryId) {
                const entry = document.getElementById(entryId);
                const entryText = entry.querySelector('.entry-text').textContent;
                
                if (confirm(`–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å "${entryText}"?`)) {
                    entry.style.opacity = '0';
                    entry.style.transform = 'translateX(-20px)';
                    
                    setTimeout(() => {
                        entry.remove();
                        this.showNotification('–ó–∞–ø–∏—Å—å —É–¥–∞–ª–µ–Ω–∞', 'info');
                        this.saveData();
                        this.updateStatistics();
                    }, 300);
                }
            },

            addNewCourse() {
                const nameInput = document.getElementById('new-course-name');
                const progressInput = document.getElementById('new-course-progress');
                const coursesList = document.getElementById('courses-list');
                
                const name = nameInput.value.trim();
                const progress = parseInt(progressInput.value);
                
                if (!name || isNaN(progress)) {
                    this.showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!', 'error');
                    return;
                }
                
                if (progress < 0 || progress > 100) {
                    this.showNotification('–ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 0 –¥–æ 100%!', 'error');
                    progressInput.focus();
                    return;
                }
                
                const courseId = 'course-' + Date.now();
                const courseDiv = document.createElement('div');
                courseDiv.className = 'course';
                courseDiv.id = courseId;
                courseDiv.innerHTML = `
                    <div class="course-header">
                        <span class="course-name">${name}</span>
                        <span class="course-progress">${progress}%</span>
                    </div>
                    <div class="progress-bar" role="progressbar" aria-valuenow="${progress}" aria-valuemin="0" aria-valuemax="100">
                        <div class="progress-fill" style="width: ${progress}%"></div>
                    </div>
                    <div class="course-actions">
                        <button class="edit-btn" onclick="DiaryManager.editCourseProgress('${courseId}')" aria-label="–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å">‚úé</button>
                        <button class="delete-btn" onclick="DiaryManager.deleteCourse('${courseId}')" aria-label="–£–¥–∞–ª–∏—Ç—å –∫—É—Ä—Å">‚úï</button>
                    </div>
                `;
                
                coursesList.appendChild(courseDiv);
                
                nameInput.value = '';
                progressInput.value = '';
                nameInput.focus();
                
                this.showNotification('–ö—É—Ä—Å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!', 'success');
                this.saveData();
                this.updateStatistics();
            },

            editCourseProgress(courseId) {
                const course = document.getElementById(courseId);
                const currentProgress = parseInt(course.querySelector('.course-progress').textContent);
                const newProgress = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å (0-100%):', currentProgress);
                
                if (newProgress !== null) {
                    const progress = parseInt(newProgress);
                    if (!isNaN(progress) && progress >= 0 && progress <= 100) {
                        course.querySelector('.course-progress').textContent = progress + '%';
                        course.querySelector('.progress-fill').style.width = progress + '%';
                        course.querySelector('.progress-bar').setAttribute('aria-valuenow', progress);
                        
                        this.saveData();
                        this.updateStatistics();
                        this.showNotification('–ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω!', 'success');
                    } else {
                        this.showNotification('–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 100!', 'error');
                    }
                }
            },

            deleteCourse(courseId) {
                const course = document.getElementById(courseId);
                const courseName = course.querySelector('.course-name').textContent;
                
                if (confirm(`–£–¥–∞–ª–∏—Ç—å –∫—É—Ä—Å "${courseName}"?`)) {
                    course.style.opacity = '0';
                    course.style.transform = 'scale(0.8)';
                    
                    setTimeout(() => {
                        course.remove();
                        this.showNotification('–ö—É—Ä—Å —É–¥–∞–ª–µ–Ω', 'info');
                        this.saveData();
                        this.updateStatistics();
                    }, 300);
                }
            },

            updateStatistics() {
                const entries = document.querySelectorAll('.entry-item');
                const courses = document.querySelectorAll('.course');
                
                document.getElementById('total-entries').textContent = entries.length;
                
                const completedEntries = document.querySelectorAll('.entry-item.completed').length;
                document.getElementById('completed-entries').textContent = completedEntries;
                
                document.getElementById('total-courses').textContent = courses.length;
                
                let totalProgress = 0;
                courses.forEach(course => {
                    const progress = parseInt(course.querySelector('.course-progress').textContent);
                    totalProgress += progress;
                });
                const avgProgress = courses.length > 0 ? Math.round(totalProgress / courses.length) : 0;
                document.getElementById('avg-progress').textContent = avgProgress + '%';
            },

            getStatusIcon(status) {
                const icons = {
                    'planned': 'üìÖ',
                    'in-progress': 'üîÑ', 
                    'completed': '‚úÖ'
                };
                return icons[status] || 'üìù';
            },

            showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.setAttribute('role', 'alert');
                notification.setAttribute('aria-live', 'polite');
                notification.textContent = message;
                
                Object.assign(notification.style, {
                    position: 'fixed',
                    top: '20px',
                    right: '20px',
                    padding: '1rem 1.5rem',
                    background: type === 'error' ? '#ff4444' : type === 'success' ? '#00cc00' : '#3366cc',
                    color: 'white',
                    borderRadius: '4px',
                    zIndex: '10000',
                    fontWeight: 'bold',
                    boxShadow: '0 2px 10px rgba(0,0,0,0.3)'
                });
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transition = 'opacity 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            },

            saveData() {
                const entries = [];
                document.querySelectorAll('.entry-item').forEach(item => {
                    entries.push({
                        id: item.id,
                        text: item.querySelector('.entry-text').textContent,
                        status: Array.from(item.classList).find(cls => 
                            ['planned', 'in-progress', 'completed'].includes(cls)
                        )
                    });
                });
                localStorage.setItem('diaryEntries', JSON.stringify(entries));
                
                const courses = [];
                document.querySelectorAll('.course').forEach(course => {
                    courses.push({
                        id: course.id,
                        name: course.querySelector('.course-name').textContent,
                        progress: parseInt(course.querySelector('.course-progress').textContent)
                    });
                });
                localStorage.setItem('diaryCourses', JSON.stringify(courses));
            },

            loadData() {
                this.loadEntries();
                this.loadCourses();
            },

            loadEntries() {
                const savedEntries = localStorage.getItem('diaryEntries');
                const progressList = document.getElementById('progress-list');
                
                if (savedEntries) {
                    const entries = JSON.parse(savedEntries);
                    entries.forEach(entry => {
                        const li = document.createElement('li');
                        li.className = `entry-item ${entry.status}`;
                        li.id = entry.id;
                        li.innerHTML = `
                            <span class="entry-text">${entry.text}</span>
                            <div class="entry-actions">
                                <button class="status-btn" onclick="DiaryManager.toggleEntryStatus('${entry.id}')" aria-label="–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å">
                                    ${this.getStatusIcon(entry.status)}
                                </button>
                                <button class="delete-btn" onclick="DiaryManager.deleteEntry('${entry.id}')" aria-label="–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å">‚úï</button>
                            </div>
                        `;
                        progressList.appendChild(li);
                    });
                } else {
                    this.loadDefaultEntries();
                }
            },

            loadCourses() {
                const savedCourses = localStorage.getItem('diaryCourses');
                const coursesList = document.getElementById('courses-list');
                
                if (savedCourses) {
                    const courses = JSON.parse(savedCourses);
                    courses.forEach(course => {
                        const courseDiv = document.createElement('div');
                        courseDiv.className = 'course';
                        courseDiv.id = course.id;
                        courseDiv.innerHTML = `
                            <div class="course-header">
                                <span class="course-name">${course.name}</span>
                                <span class="course-progress">${course.progress}%</span>
                            </div>
                            <div class="progress-bar" role="progressbar" aria-valuenow="${course.progress}" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-fill" style="width: ${course.progress}%"></div>
                            </div>
                            <div class="course-actions">
                                <button class="edit-btn" onclick="DiaryManager.editCourseProgress('${course.id}')" aria-label="–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å">‚úé</button>
                                <button class="delete-btn" onclick="DiaryManager.deleteCourse('${course.id}')" aria-label="–£–¥–∞–ª–∏—Ç—å –∫—É—Ä—Å">‚úï</button>
                            </div>
                        `;
                        coursesList.appendChild(courseDiv);
                    });
                } else {
                    this.loadDefaultCourses();
                }
            },

            loadDefaultEntries() {
                const defaultEntries = [
                    { text: "–ò–∑—É—á–µ–Ω–∏–µ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π –≤–µ—Ä—Å—Ç–∫–∏ - –∑–∞–≤–µ—Ä—à–µ–Ω–æ ‚úì", status: "completed" },
                    { text: "–û—Å–≤–æ–µ–Ω–∏–µ JavaScript ES6+ - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ", status: "in-progress" },
                    { text: "–ü—Ä–∞–∫—Ç–∏–∫–∞ —Å CSS Grid –∏ Flexbox - –∑–∞–≤–µ—Ä—à–µ–Ω–æ ‚úì", status: "completed" },
                    { text: "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω—É –ø–æ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ", status: "planned" }
                ];
                
                const progressList = document.getElementById('progress-list');
                defaultEntries.forEach((entry, index) => {
                    const entryId = 'entry-default-' + index;
                    const li = document.createElement('li');
                    li.className = `entry-item ${entry.status}`;
                    li.id = entryId;
                    li.innerHTML = `
                        <span class="entry-text">${entry.text}</span>
                        <div class="entry-actions">
                            <button class="status-btn" onclick="DiaryManager.toggleEntryStatus('${entryId}')" aria-label="–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å">
                                ${this.getStatusIcon(entry.status)}
                            </button>
                            <button class="delete-btn" onclick="DiaryManager.deleteEntry('${entryId}')" aria-label="–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å">‚úï</button>
                        </div>
                    `;
                    progressList.appendChild(li);
                });
                this.saveData();
            },

            loadDefaultCourses() {
                const defaultCourses = [
                    { name: "–§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞", progress: 85 },
                    { name: "JavaScript –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π", progress: 70 },
                    { name: "React –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π JS", progress: 45 },
                    { name: "Backend –æ—Å–Ω–æ–≤—ã", progress: 30 }
                ];
                
                const coursesList = document.getElementById('courses-list');
                defaultCourses.forEach((course, index) => {
                    const courseId = 'course-default-' + index;
                    const courseDiv = document.createElement('div');
                    courseDiv.className = 'course';
                    courseDiv.id = courseId;
                    courseDiv.innerHTML = `
                        <div class="course-header">
                            <span class="course-name">${course.name}</span>
                            <span class="course-progress">${course.progress}%</span>
                        </div>
                        <div class="progress-bar" role="progressbar" aria-valuenow="${course.progress}" aria-valuemin="0" aria-valuemax="100">
                            <div class="progress-fill" style="width: ${course.progress}%"></div>
                        </div>
                        <div class="course-actions">
                            <button class="edit-btn" onclick="DiaryManager.editCourseProgress('${courseId}')" aria-label="–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å">‚úé</button>
                            <button class="delete-btn" onclick="DiaryManager.deleteCourse('${courseId}')" aria-label="–£–¥–∞–ª–∏—Ç—å –∫—É—Ä—Å">‚úï</button>
                        </div>
                    `;
                    coursesList.appendChild(courseDiv);
                });
                this.saveData();
            }
        };

        function toggleTheme() {
            const body = document.body;
            const themeBtn = document.querySelector('.theme-btn');
            const isDark = body.classList.toggle('dark-theme');
            
            themeBtn.innerHTML = isDark ? '‚òÄÔ∏è –¢–µ–º–∞' : 'üåô –¢–µ–º–∞';
            themeBtn.title = isDark ? '–í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É' : '–í–∫–ª—é—á–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        document.addEventListener('DOMContentLoaded', function() {
            DiaryManager.init();
        });
    </script>
</body>
</html>