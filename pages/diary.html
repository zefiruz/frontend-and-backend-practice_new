<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–Ω–µ–≤–Ω–∏–∫ - –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å—Ç—É–¥–µ–Ω—Ç–∞</title>
    <link rel="stylesheet" href="../styles/styles.css">
    <style>
        /* –§–∏–∫—Å –¥–ª—è —Ñ–æ–Ω–∞ —á—Ç–æ–±—ã –Ω–µ –º–∏–≥–∞–ª –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ */
        body {
            background-attachment: fixed;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <a href="../index.html" class="logo-link">
                    <div class="logo-icon"><img src="../images/icons/logo.ico" alt="–õ–æ–≥–æ—Ç–∏–ø"></div>
                    <h1>–ú–∞–ª—è–º–æ–≤ –°–µ–º—ë–Ω</h1>
                </a>
            </div>
            <nav>
                <ul>
                    <li><a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="projects.html">–ü—Ä–æ–µ–∫—Ç—ã</a></li>
                    <li><a href="diary.html" class="active">–î–Ω–µ–≤–Ω–∏–∫</a></li>
                    <li><a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    <li>
                        <button onclick="toggleTheme()" class="theme-btn" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                            üåô –¢–µ–º–∞
                        </button>
                    </li>
                </ul>
            </nav>
        </header>

        <main>
            <h2>–ú–æ–π —É—á–µ–±–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
            
            <div class="diary-content">
                <div class="progress-log">
                    <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏</h3>
                    <ul class="progress-list" id="progress-list">
                        <li class="completed">
                            <span>10 –æ–∫—Ç - –í–µ—Ä—Å—Ç–∫–∞ –º–∞–∫–µ—Ç–∞ —Å–∞–π—Ç–∞ ‚úì</span>
                            <button class="delete-btn" onclick="deleteEntry(this)">‚úï</button>
                        </li>
                        <li class="completed">
                            <span>27 –æ–∫—Ç - JavaScript –æ—Å–Ω–æ–≤—ã ‚úì</span>
                            <button class="delete-btn" onclick="deleteEntry(this)">‚úï</button>
                        </li>
                        <li class="in-progress">
                            <span>8 –Ω–æ—è - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞ in progress</span>
                            <button class="delete-btn" onclick="deleteEntry(this)">‚úï</button>
                        </li>
                        <li class="in-progress">
                            <span>01 –¥–µ–∫ - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω in progress</span>
                            <button class="delete-btn" onclick="deleteEntry(this)">‚úï</button>
                        </li>
                    </ul>
                    
                    <div class="add-entry-form">
                        <input type="text" id="new-entry-text" placeholder="–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å (–Ω–∞–ø—Ä–∏–º–µ—Ä: 15 –¥–µ–∫ - –ò–∑—É—á–µ–Ω–∏–µ React)" class="entry-input">
                        <select id="entry-status" class="status-select">
                            <option value="in-progress">In Progress</option>
                            <option value="completed">Completed</option>
                            <option value="planned">Planned</option>
                        </select>
                        <button class="btn" onclick="addNewEntry()">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
                    </div>
                </div>
                
                <div class="current-courses">
                    <h3>–¢–µ–∫—É—â–∏–µ –∫—É—Ä—Å—ã</h3>
                    <div class="course">
                        <span>–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞</span>
                        <div class="progress-bar">
                            <div class="progress" style="width: 90%"></div>
                        </div>
                        <span>90%</span>
                    </div>
                    <div class="course">
                        <span>JavaScript</span>
                        <div class="progress-bar">
                            <div class="progress" style="width: 70%"></div>
                        </div>
                        <span>70%</span>
                    </div>
                    <div class="course">
                        <span>React</span>
                        <div class="progress-bar">
                            <div class="progress" style="width: 50%"></div>
                        </div>
                        <span>50%</span>
                    </div>
                    
                    <div class="course-management">
                        <h4>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞–º–∏</h4>
                        <input type="text" id="new-course-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞" class="course-input">
                        <input type="number" id="new-course-progress" placeholder="–ü—Ä–æ–≥—Ä–µ—Å—Å %" min="0" max="100" class="course-input">
                        <button class="btn small-btn" onclick="addNewCourse()">–î–æ–±–∞–≤–∏—Ç—å –∫—É—Ä—Å</button>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; 2025 <a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></p>
        </footer>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
        function toggleTheme() {
            const body = document.body;
            const themeBtn = document.querySelector('.theme-btn');
            const isDark = body.classList.toggle('dark-theme');
            
            if (isDark) {
                themeBtn.innerHTML = '‚òÄÔ∏è –¢–µ–º–∞';
                themeBtn.title = '–í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É';
            } else {
                themeBtn.innerHTML = 'üåô –¢–µ–º–∞';
                themeBtn.title = '–í–∫–ª—é—á–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É';
            }
            
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏
        function addNewEntry() {
            const textInput = document.getElementById('new-entry-text');
            const statusSelect = document.getElementById('entry-status');
            const progressList = document.getElementById('progress-list');
            
            const text = textInput.value.trim();
            if (!text) {
                alert('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∑–∞–ø–∏—Å–∏!');
                return;
            }
            
            const newEntry = document.createElement('li');
            newEntry.className = statusSelect.value;
            newEntry.innerHTML = `
                <span>${text}</span>
                <button class="delete-btn" onclick="deleteEntry(this)">‚úï</button>
            `;
            
            progressList.insertBefore(newEntry, progressList.firstChild);
            textInput.value = '';
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            saveEntriesToStorage();
        }

        // –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏
        function deleteEntry(button) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–ø–∏—Å—å?')) {
                const listItem = button.parentElement;
                listItem.remove();
                saveEntriesToStorage();
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫—É—Ä—Å–∞
        function addNewCourse() {
            const nameInput = document.getElementById('new-course-name');
            const progressInput = document.getElementById('new-course-progress');
            const currentCourses = document.querySelector('.current-courses');
            
            const name = nameInput.value.trim();
            const progress = parseInt(progressInput.value);
            
            if (!name || isNaN(progress)) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!');
                return;
            }
            
            if (progress < 0 || progress > 100) {
                alert('–ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 0 –¥–æ 100%!');
                return;
            }
            
            const courseDiv = document.createElement('div');
            courseDiv.className = 'course';
            courseDiv.innerHTML = `
                <span>${name}</span>
                <div class="progress-bar">
                    <div class="progress" style="width: ${progress}%"></div>
                </div>
                <span>${progress}%</span>
            `;
            
            // –í—Å—Ç–∞–≤–ª—è–µ–º –ø–µ—Ä–µ–¥ –±–ª–æ–∫–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–∞–º–∏
            const managementDiv = document.querySelector('.course-management');
            currentCourses.insertBefore(courseDiv, managementDiv);
            
            nameInput.value = '';
            progressInput.value = '';
            
            saveCoursesToStorage();
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ localStorage
        function saveEntriesToStorage() {
            const entries = [];
            const listItems = document.querySelectorAll('#progress-list li');
            
            listItems.forEach(item => {
                entries.push({
                    text: item.querySelector('span').textContent,
                    status: item.className
                });
            });
            
            localStorage.setItem('diaryEntries', JSON.stringify(entries));
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –≤ localStorage
        function saveCoursesToStorage() {
            const courses = [];
            const courseDivs = document.querySelectorAll('.current-courses .course');
            
            courseDivs.forEach(div => {
                if (!div.classList.contains('course-management')) {
                    const name = div.querySelector('span:first-child').textContent;
                    const progress = div.querySelector('span:last-child').textContent.replace('%', '');
                    courses.push({ name, progress: parseInt(progress) });
                }
            });
            
            localStorage.setItem('diaryCourses', JSON.stringify(courses));
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–º—ã
            const savedTheme = localStorage.getItem('theme');
            const themeBtn = document.querySelector('.theme-btn');
            
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                themeBtn.innerHTML = '‚òÄÔ∏è –¢–µ–º–∞';
                themeBtn.title = '–í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É';
            }
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–ø–∏—Å–µ–π
            const savedEntries = localStorage.getItem('diaryEntries');
            if (savedEntries) {
                const entries = JSON.parse(savedEntries);
                const progressList = document.getElementById('progress-list');
                progressList.innerHTML = '';
                
                entries.forEach(entry => {
                    const li = document.createElement('li');
                    li.className = entry.status;
                    li.innerHTML = `
                        <span>${entry.text}</span>
                        <button class="delete-btn" onclick="deleteEntry(this)">‚úï</button>
                    `;
                    progressList.appendChild(li);
                });
            }
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∫—É—Ä—Å–æ–≤
            const savedCourses = localStorage.getItem('diaryCourses');
            if (savedCourses) {
                const courses = JSON.parse(savedCourses);
                const currentCourses = document.querySelector('.current-courses');
                const managementDiv = document.querySelector('.course-management');
                
                // –£–¥–∞–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫—É—Ä—Å—ã (–∫—Ä–æ–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
                const existingCourses = document.querySelectorAll('.current-courses .course');
                existingCourses.forEach(course => {
                    if (!course.classList.contains('course-management')) {
                        course.remove();
                    }
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã
                courses.forEach(course => {
                    const courseDiv = document.createElement('div');
                    courseDiv.className = 'course';
                    courseDiv.innerHTML = `
                        <span>${course.name}</span>
                        <div class="progress-bar">
                            <div class="progress" style="width: ${course.progress}%"></div>
                        </div>
                        <span>${course.progress}%</span>
                    `;
                    currentCourses.insertBefore(courseDiv, managementDiv);
                });
            }
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π
            document.getElementById('new-entry-text').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addNewEntry();
                }
            });
        });
    </script>
</body>
</html>